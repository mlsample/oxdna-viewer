(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{54165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,L3:()=>h,c7:()=>x,lG:()=>d});var a=t(95155),l=t(12115),n=t(15452),r=t(25318),i=t(59434);let d=n.bL;n.l9;let o=n.ZL;n.bm;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});c.displayName=n.hJ.displayName;let m=l.forwardRef((e,s)=>{let{className:t,children:l,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(n.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[l,(0,a.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let h=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});h.displayName=n.hE.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...l})}).displayName=n.VY.displayName},66424:(e,s,t)=>{"use strict";t.d(s,{F:()=>i});var a=t(95155),l=t(12115),n=t(47655),r=t(59434);let i=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(n.bL,{ref:s,className:(0,r.cn)("relative overflow-hidden",t),...i,children:[(0,a.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,a.jsx)(d,{}),(0,a.jsx)(n.OK,{})]})});i.displayName=n.bL.displayName;let d=l.forwardRef((e,s)=>{let{className:t,orientation:l="vertical",...i}=e;return(0,a.jsx)(n.VM,{ref:s,orientation:l,className:(0,r.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,a.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=n.VM.displayName},66695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>r,aR:()=>i});var a=t(95155),l=t(12115),n=t(59434);let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});r.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...l})});o.displayName="CardDescription";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...l})});c.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},67772:(e,s,t)=>{Promise.resolve().then(t.bind(t,95960))},95960:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(95155),l=t(12115),n=t(35695),r=t(25731),i=t(87481),d=t(91540),o=t(66695),c=t(85127),m=t(30285),x=t(54165),h=t(68856),f=t(12543),u=t(965),j=t(67554),p=t(36170),N=t(2448),g=t(17607),b=t(68718),v=t(6874),w=t.n(v),y=t(66424);let C=[".txt",".top",".dat",".json",".log",".sh"];function A(){let e=(0,n.useSearchParams)().get("jobId"),{toast:s}=(0,i.dj)(),[t,v]=(0,l.useState)([]),[A,k]=(0,l.useState)([]),[F,R]=(0,l.useState)(""),[S,B]=(0,l.useState)(!0),[z,E]=(0,l.useState)(null),[J,H]=(0,l.useState)(!1),L=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){B(!0);try{let s=await r.F.listJobFiles(e,t);v(s.files),k(s.folders),R(t)}catch(e){s({title:"Error fetching files",description:e.message||"Could not retrieve the file list for this job.",variant:"destructive"})}finally{B(!1)}}};(0,l.useEffect)(()=>{L()},[e]);let D=e=>{if(".."===e){let e=F.split(",").filter(Boolean);e.pop(),L(e.join(","))}else L(F?"".concat(F,",").concat(e):e)},P=async t=>{if(e){s({title:"Download Started",description:"Preparing to download ".concat(t,"...")});try{let s=F?"".concat(F,",").concat(t):t,a=await r.F.downloadFile(e,s);(0,d.saveAs)(a,t)}catch(e){s({title:"Download Failed",description:e.message||"Could not download ".concat(t,"."),variant:"destructive"})}}},V=async s=>{if(e){H(!0),E({name:s,content:"Loading content..."});try{let t=F?"".concat(F,",").concat(s):s,a=await r.F.getJobFileContent(e,t);E({name:s,content:a})}catch(e){E({name:s,content:"Error loading file: ".concat(e.message)})}finally{H(!1)}}};return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(x.lG,{open:!!z,onOpenChange:e=>!e&&E(null),children:(0,a.jsxs)(x.Cf,{className:"max-w-4xl h-[80vh] flex flex-col",children:[(0,a.jsx)(x.c7,{children:(0,a.jsxs)(x.L3,{children:["Viewing: ",null==z?void 0:z.name]})}),(0,a.jsx)(y.F,{className:"flex-grow h-full border rounded-md bg-muted/20",children:(0,a.jsx)("pre",{className:"p-4 text-xs",children:(0,a.jsx)("code",{children:null==z?void 0:z.content})})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.$,{variant:"outline",size:"sm",asChild:!0,className:"mb-2",children:(0,a.jsxs)(w(),{href:"/job-status",children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Back to Job Status"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Job Files"}),(0,a.jsxs)("p",{className:"text-muted-foreground font-code text-sm",children:["Job ID: ",e]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.ZB,{children:"File Browser"}),(0,a.jsx)(o.BT,{children:"Browse, download, or view the files generated by your simulation."}),F&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Path:"}),(0,a.jsx)("code",{className:"px-2 py-1 bg-muted rounded text-xs",children:F.replace(/,/g," / ")}),(0,a.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>D(".."),className:"ml-2",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Back"]})]})]}),(0,a.jsx)(m.$,{variant:"outline",size:"icon",onClick:()=>{L(F)},disabled:S,children:(0,a.jsx)(j.A,{className:"h-4 w-4 ".concat(S?"animate-spin":"")})})]})}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{children:"Filename"}),(0,a.jsx)(c.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(c.BF,{children:S?[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nA,{children:(0,a.jsx)(h.E,{className:"h-5 w-48"})}),(0,a.jsx)(c.nA,{className:"text-right",children:(0,a.jsx)(h.E,{className:"h-8 w-24 inline-block"})})]},s)):A.length>0||t.length>0?(0,a.jsxs)(a.Fragment,{children:[F&&(0,a.jsxs)(c.Hj,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>D(".."),children:[(0,a.jsxs)(c.nA,{className:"font-medium flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-semibold",children:".. (Parent Directory)"})]}),(0,a.jsx)(c.nA,{className:"text-right",children:(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Folder"})})]},".."),A.map(e=>(0,a.jsxs)(c.Hj,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>D(e),children:[(0,a.jsxs)(c.nA,{className:"font-medium flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-semibold",children:e})]}),(0,a.jsx)(c.nA,{className:"text-right",children:(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Folder"})})]},e)),t.map(e=>{let s=C.some(s=>e.endsWith(s));return(0,a.jsxs)(c.Hj,{children:[(0,a.jsxs)(c.nA,{className:"font-medium flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"}),e]}),(0,a.jsxs)(c.nA,{className:"text-right space-x-2",children:[s&&(0,a.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>V(e),disabled:J,children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"View"]}),(0,a.jsxs)(m.$,{variant:"default",size:"sm",onClick:()=>P(e),children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Download"]})]})]},e)})]}):(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:2,className:"h-24 text-center",children:"No files or folders found."})})})]})})})]})]}):(0,a.jsxs)("div",{className:"space-y-6 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight font-headline mt-8",children:"Job Not Specified"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Please return to the Job Status page and select a job to view its files."}),(0,a.jsx)(m.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(w(),{href:"/job-status",children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Back to Job Status"]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[277,324,898,874,345,499,509,30,441,303,358],()=>s(67772)),_N_E=e.O()}]);