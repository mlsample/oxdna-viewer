(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{13573:(e,s,a)=>{"use strict";a.d(s,{default:()=>j});var l=a(95155),r=a(12115),i=a(25731),n=a(62523),t=a(30285),c=a(85127),o=a(68856),d=a(87481),u=a(27150),m=a(9572),h=a(67554),x=a(12236),v=a(89829),f=a(27140),p=a(24944);function j(){let[e,s]=(0,r.useState)([]),[a,j]=(0,r.useState)(!0),[N,g]=(0,r.useState)(""),[C,w]=(0,r.useState)({key:null,direction:"ascending"}),{toast:b}=(0,d.dj)(),y=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j(!0);try{let a=await i.F.getServerResources();s(a),e&&b({title:"Refreshed",description:"Server statuses have been updated."})}catch(e){console.error("Failed to fetch server resources:",e),b({title:"Error",description:"Could not fetch server statuses.",variant:"destructive"})}finally{j(!1)}},[b]);(0,r.useEffect)(()=>{y()},[y]);let k=(0,r.useMemo)(()=>{let s=[...e];return null!==C.key&&s.sort((e,s)=>{let a=parseFloat(String(e[C.key])),l=parseFloat(String(s[C.key]));return isNaN(a)||isNaN(l)?String(e[C.key])<String(s[C.key])?"ascending"===C.direction?-1:1:String(e[C.key])>String(s[C.key])?"ascending"===C.direction?1:-1:0:a<l?"ascending"===C.direction?-1:1:a>l?"ascending"===C.direction?1:-1:0}),s.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.CPUavail.toLowerCase().includes(N.toLowerCase())||e.totalCPU&&e.totalCPU.toLowerCase().includes(N.toLowerCase())||e.GPUavail.toLowerCase().includes(N.toLowerCase())||e.RAMavail.toLowerCase().includes(N.toLowerCase()))},[e,N,C]),A=e=>{let s="ascending";C.key===e&&"ascending"===C.direction&&(s="descending"),w({key:e,direction:s})},P=e=>C.key===e?(C.direction,(0,l.jsx)(u.A,{className:"ml-2 h-4 w-4 inline"})):(0,l.jsx)(u.A,{className:"ml-2 h-4 w-4 inline opacity-50"});return a?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.E,{className:"h-8 w-1/4"}),[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(o.E,{className:"h-12 w-full"},s))]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),(0,l.jsx)(n.p,{placeholder:"Filter servers...",value:N,onChange:e=>g(e.target.value),className:"max-w-sm"}),(0,l.jsxs)(t.$,{variant:"outline",size:"icon",onClick:()=>y(!0),children:[(0,l.jsx)(h.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Refresh"})]})]}),(0,l.jsx)("div",{className:"rounded-md border overflow-hidden",children:(0,l.jsxs)(c.XI,{children:[(0,l.jsx)(c.A0,{children:(0,l.jsxs)(c.Hj,{children:[(0,l.jsxs)(c.nd,{onClick:()=>A("name"),className:"cursor-pointer",children:["Server Name ",P("name")]}),(0,l.jsxs)(c.nd,{onClick:()=>A("CPUavail"),className:"cursor-pointer",children:["CPU Available ",P("CPUavail")]}),(0,l.jsxs)(c.nd,{onClick:()=>A("GPUavail"),className:"cursor-pointer",children:["GPU Available ",P("GPUavail")]}),(0,l.jsxs)(c.nd,{onClick:()=>A("RAMavail"),className:"cursor-pointer",children:["RAM Available ",P("RAMavail")]}),(0,l.jsxs)(c.nd,{onClick:()=>A("TotalRam"),className:"cursor-pointer",children:["Total RAM ",P("TotalRam")]})]})}),(0,l.jsx)(c.BF,{children:k.length>0?k.map(e=>{let s=parseFloat(e.CPUavail),a=parseFloat(e.totalCPU),r=a>0&&s<=a?(a-s)/a*100:0,i=parseFloat(e.RAMavail),n=parseFloat(e.TotalRam),t=n>0&&i<=n?(n-i)/n*100:0;return(0,l.jsxs)(c.Hj,{children:[(0,l.jsx)(c.nA,{className:"font-medium",children:e.name}),(0,l.jsx)(c.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.A,{className:"h-5 w-5 text-blue-500"}),(0,l.jsxs)("span",{children:[e.CPUavail," / ",e.totalCPU]}),(0,l.jsx)(p.k,{value:r,className:"w-20 h-2",indicatorClassName:r>80?"bg-destructive":"bg-primary"})]})}),(0,l.jsx)(c.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"h-5 w-5 text-green-500"}),(0,l.jsx)("span",{children:e.GPUavail})]})}),(0,l.jsx)(c.nA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"h-5 w-5 text-purple-500"}),(0,l.jsx)("span",{children:e.RAMavail}),(0,l.jsx)(p.k,{value:t,className:"w-20 h-2",indicatorClassName:t>80?"bg-destructive":"bg-primary"})]})}),(0,l.jsx)(c.nA,{children:e.TotalRam})]},e.id)}):(0,l.jsx)(c.Hj,{children:(0,l.jsx)(c.nA,{colSpan:5,className:"h-24 text-center",children:"No server resources found."})})})]})})]})}},24944:(e,s,a)=>{"use strict";a.d(s,{k:()=>t});var l=a(95155),r=a(12115),i=a(55863),n=a(59434);let t=r.forwardRef((e,s)=>{let{className:a,value:r,indicatorClassName:t,...c}=e;return(0,l.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,l.jsx)(i.C1,{className:(0,n.cn)("h-full w-full flex-1 bg-primary transition-all",t),style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});t.displayName=i.bL.displayName},44965:(e,s,a)=>{Promise.resolve().then(a.bind(a,13573))},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var l=a(95155),r=a(12115),i=a(59434);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,l.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...n})});n.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[277,874,509,30,441,303,358],()=>s(44965)),_N_E=e.O()}]);