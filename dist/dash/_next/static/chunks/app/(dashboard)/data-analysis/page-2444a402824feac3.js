(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{26258:(e,t,s)=>{Promise.resolve().then(s.bind(s,81249))},68856:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(95155),r=s(59434);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},81249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(95155),r=s(35695),l=s(12115),n=s(25731),o=s(83540),i=s(56965),c=s(94754),d=s(96025),h=s(16238),u=s(94517),x=s(24026),m=s(21374),f=s(59434);let j={light:"",dark:".dark"},p=l.createContext(null);function g(){let e=l.useContext(p);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let v=l.forwardRef((e,t)=>{let{id:s,className:r,children:n,config:i,...c}=e,d=l.useId(),h="chart-".concat(s||d.replace(/:/g,""));return(0,a.jsx)(p.Provider,{value:{config:i},children:(0,a.jsxs)("div",{"data-chart":h,ref:t,className:(0,f.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...c,children:[(0,a.jsx)(b,{id:h,config:i}),(0,a.jsx)(o.u,{children:n})]})})});v.displayName="Chart";let b=e=>{let{id:t,config:s}=e,r=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(j).map(e=>{let[s,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[a,r]=e,l=(null==(t=r.theme)?void 0:t[s])||r.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};u.m;let y=l.forwardRef((e,t)=>{let{active:s,payload:r,className:n,indicator:o="dot",hideLabel:i=!1,hideIndicator:c=!1,label:d,labelFormatter:h,labelClassName:u,formatter:x,color:m,nameKey:j,labelKey:p}=e,{config:v}=g(),b=l.useMemo(()=>{var e;if(i||!(null==r?void 0:r.length))return null;let[t]=r,s="".concat(p||t.dataKey||t.name||"value"),l=k(v,t,s),n=p||"string"!=typeof d?null==l?void 0:l.label:(null==(e=v[d])?void 0:e.label)||d;return h?(0,a.jsx)("div",{className:(0,f.cn)("font-medium",u),children:h(n,r)}):n?(0,a.jsx)("div",{className:(0,f.cn)("font-medium",u),children:n}):null},[d,h,r,i,u,v,p]);if(!s||!(null==r?void 0:r.length))return null;let y=1===r.length&&"dot"!==o;return(0,a.jsxs)("div",{ref:t,className:(0,f.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:b,(0,a.jsx)("div",{className:"grid gap-1.5",children:r.map((e,t)=>{let s="".concat(j||e.name||e.dataKey||"value"),r=k(v,e,s),l=m||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,f.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!c&&(0,a.jsx)("div",{className:(0,f.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":y&&"dashed"===o}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:(0,f.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?b:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});y.displayName="ChartTooltip",x.s;let N=l.forwardRef((e,t)=>{let{className:s,hideIcon:r=!1,payload:l,verticalAlign:n="bottom",nameKey:o}=e,{config:i}=g();return(null==l?void 0:l.length)?(0,a.jsx)("div",{ref:t,className:(0,f.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",s),children:l.map(e=>{let t="".concat(o||e.dataKey||"value"),s=k(i,e,t);return(0,a.jsxs)("div",{className:(0,f.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!r?(0,a.jsx)(s.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null});function k(e,t,s){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=s;return s in t&&"string"==typeof t[s]?r=t[s]:a&&s in a&&"string"==typeof a[s]&&(r=a[s]),r in e?e[r]:e[s]}N.displayName="ChartLegend";var w=s(68856),_=s(87481),C=s(76981),E=s(10518);let S=l.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C.bL,{ref:t,className:(0,f.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(C.C1,{className:(0,f.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})})});S.displayName=C.bL.displayName;var D=s(85057);let I={potential:!0,kinetic:!0,total:!0},J={potential:{label:"Potential",color:"hsl(var(--chart-1))"},kinetic:{label:"Kinetic",color:"hsl(var(--chart-2))"},total:{label:"Total",color:"hsl(var(--chart-3))"}};function K(e){let{jobId:t}=e,[s,r]=(0,l.useState)([]),[f,j]=(0,l.useState)(!0),[p,g]=(0,l.useState)(I),{toast:b}=(0,_.dj)();return((0,l.useEffect)(()=>{!async function(){if(t){j(!0);try{let e=await n.F.getEnergyData(t);if(e.time&&e.time.length>0){let t=e.time.map((t,s)=>({time:t,potential:e.potential[s],kinetic:e.kinetic[s],total:e.total[s]}));r(t)}else r([])}catch(e){console.error("Failed to fetch energy data:",e),b({title:"Error",description:"Could not fetch energy data.",variant:"destructive"})}finally{j(!1)}}}()},[t,b]),f)?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6 pl-4",children:[(0,a.jsx)(w.E,{className:"h-6 w-24"}),(0,a.jsx)(w.E,{className:"h-6 w-24"}),(0,a.jsx)(w.E,{className:"h-6 w-24"})]}),(0,a.jsx)(w.E,{className:"h-[400px] w-full"})]}):0===s.length?(0,a.jsx)("p",{className:"text-center text-muted-foreground py-10",children:"No energy data available for this job."}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-6 pl-4",children:Object.keys(p).map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S,{id:e,checked:p[e],onCheckedChange:t=>{g(s=>({...s,[e]:!!t}))}}),(0,a.jsx)(D.J,{htmlFor:e,className:"capitalize",style:{color:J[e].color},children:J[e].label})]},e))}),(0,a.jsx)(v,{config:J,className:"aspect-video h-[400px] w-full",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(i.b,{data:s,margin:{top:5,right:30,left:20,bottom:20},children:[(0,a.jsx)(c.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,a.jsx)(d.W,{dataKey:"time",type:"number",domain:["dataMin","dataMax"],tickFormatter:e=>e.toLocaleString(),stroke:"hsl(var(--foreground))",tickLine:{stroke:"hsl(var(--foreground))"},label:{value:"Time / Step",position:"insideBottom",offset:-15}}),(0,a.jsx)(h.h,{stroke:"hsl(var(--foreground))",tickLine:{stroke:"hsl(var(--foreground))"},tickFormatter:e=>e.toPrecision(4),label:{value:"Energy",angle:-90,position:"insideLeft"}}),(0,a.jsx)(u.m,{content:(0,a.jsx)(y,{indicator:"dot"}),cursor:{stroke:"hsl(var(--accent))",strokeWidth:1.5},wrapperStyle:{outline:"none"}}),(0,a.jsx)(x.s,{content:(0,a.jsx)(N,{})}),p.potential&&(0,a.jsx)(m.N,{type:"monotone",dataKey:"potential",stroke:J.potential.color,strokeWidth:2,dot:!1,activeDot:{r:6}}),p.kinetic&&(0,a.jsx)(m.N,{type:"monotone",dataKey:"kinetic",stroke:J.kinetic.color,strokeWidth:2,dot:!1,activeDot:{r:6}}),p.total&&(0,a.jsx)(m.N,{type:"monotone",dataKey:"total",stroke:J.total.color,strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})]})}var L=s(66695),A=s(58527),W=s(22945),B=s(30285),R=s(6874),F=s.n(R),P=s(12543),T=s(22346),O=s(60204);function Z(){let e=(0,r.useSearchParams)().get("jobId");return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(B.$,{variant:"outline",size:"sm",asChild:!0,className:"mb-2",children:(0,a.jsxs)(F(),{href:"/job-status",children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4"}),"Back to Job Status"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Analysis for Job"}),(0,a.jsxs)("p",{className:"text-muted-foreground font-code text-sm",children:["Job ID: ",e]})]})}),(0,a.jsxs)(L.Zp,{className:"shadow-lg",children:[(0,a.jsx)(L.aR,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(A.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(L.ZB,{className:"text-2xl font-headline",children:"Energy"}),(0,a.jsx)(L.BT,{children:"Visualization of potential, kinetic, and total energy data from the simulation."})]})]})}),(0,a.jsx)(L.Wu,{children:e?(0,a.jsx)(K,{jobId:e}):(0,a.jsx)("p",{children:"Job ID not found."})})]}),(0,a.jsx)(T.Separator,{}),(0,a.jsxs)(L.Zp,{className:"shadow-lg",children:[(0,a.jsx)(L.aR,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(A.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(L.ZB,{className:"text-2xl font-headline",children:"Energy"}),(0,a.jsx)(L.BT,{children:"Visualization of potential, kinetic, and total energy data from the simulation."})]})]})}),(0,a.jsx)(L.Wu,{children:e?(0,a.jsx)(K,{jobId:e}):(0,a.jsx)("p",{children:"Job ID not found."})})]}),(0,a.jsx)(T.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(W.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight font-headline",children:"Data Analysis"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Run post-simulation analysis protocols on your job's output files."})]})]}),(0,a.jsx)(L.Zp,{className:"shadow-lg",children:(0,a.jsx)(L.Wu,{className:"pt-6",children:e?(0,a.jsx)(O.default,{jobId:e}):(0,a.jsx)("p",{children:"Job ID not found."})})})]})]}):(0,a.jsxs)("div",{className:"space-y-6 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight font-headline mt-8",children:"Job Not Specified"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Please return to the Job Status page and select a job to view its data."}),(0,a.jsx)(B.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(F(),{href:"/job-status",children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4"}),"Back to Job Status"]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[268,277,273,24,364,521,499,874,859,207,637,509,825,204,441,303,358],()=>t(26258)),_N_E=e.O()}]);